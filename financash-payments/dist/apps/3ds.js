function t(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=e.parcelRequire00d1;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in i){var e=i[t];delete i[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},e.parcelRequire00d1=r),r.register("kfWYW",(function(e,n){async function i(t,e){try{return[await t]}catch(t){return e||console.error(t),[void 0,t]}}t(e.exports,"inlineErr",(()=>i))})),r.register("iZ6yb",(function(e,n){t(e.exports,"loadStripe",(()=>d));var i="https://js.stripe.com/v3",r=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,o="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",s=null,a=function(t){return null!==s||(s=new Promise((function(e,n){if("undefined"!=typeof window)if(window.Stripe&&t&&console.warn(o),window.Stripe)e(window.Stripe);else try{var s=function(){for(var t=document.querySelectorAll('script[src^="'.concat(i,'"]')),e=0;e<t.length;e++){var n=t[e];if(r.test(n.src))return n}return null}();s&&t?console.warn(o):s||(s=function(t){var e=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(i).concat(e);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(t)),s.addEventListener("load",(function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))})),s.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(t){return void n(t)}else e(null)}))),s},l=function(t,e,n){if(null===t)return null;var i=t.apply(void 0,e);return function(t,e){t&&t._registerWrapper&&t._registerWrapper({name:"stripe-js",version:"1.34.0",startTime:e})}(i,n),i},c=Promise.resolve().then((function(){return a(null)})),u=!1;c.catch((function(t){u||console.warn(t)}));var d=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];u=!0;var i=Date.now();return c.then((function(t){return l(t,e,i)}))}})),r.register("91rEl",(function(t,e){t.exports=import("./dependencies.f00f15b7.js").then((()=>r("18SFH")))})),r.register("fUwgm",(function(e,n){t(e.exports,"html",(()=>r("gZSbA").html)),t(e.exports,"noChange",(()=>r("gZSbA").noChange)),t(e.exports,"render",(()=>r("gZSbA").render)),r("51T0E"),r("gZSbA"),r("2cNIw")})),r.register("51T0E",(function(e,n){t(e.exports,"ReactiveElement",(()=>h));var i,o=r("30JCM");o=r("30JCM");const s=window.trustedTypes,a=s?s.emptyScript:"",l=window.reactiveElementPolyfillSupport,c={toAttribute(t,e){switch(e){case Boolean:t=t?a:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},u=(t,e)=>e!==t&&(e==e||t==t),d={attribute:!0,type:String,converter:c,reflect:!1,hasChanged:u};class h extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;null!==(e=this.h)&&void 0!==e||(this.h=[]),this.h.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,n)=>{const i=this._$Ep(n,e);void 0!==i&&(this._$Ev.set(i,n),t.push(i))})),t}static createProperty(t,e=d){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const n="symbol"==typeof t?Symbol():"__"+t,i=this.getPropertyDescriptor(t,n,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(i){const r=this[t];this[e]=i,this.requestUpdate(t,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||d}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of e)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift((0,o.getCompatibleStyle)(t))}else void 0!==t&&e.push((0,o.getCompatibleStyle)(t));return e}static _$Ep(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,n;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(n=t.hostConnected)||void 0===n||n.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return(0,o.adoptStyles)(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$EO(t,e,n=d){var i,r;const o=this.constructor._$Ep(t,n);if(void 0!==o&&!0===n.reflect){const s=(null!==(r=null===(i=n.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==r?r:c.toAttribute)(e,n.type);this._$El=t,null==s?this.removeAttribute(o):this.setAttribute(o,s),this._$El=null}}_$AK(t,e){var n,i;const r=this.constructor,o=r._$Ev.get(t);if(void 0!==o&&this._$El!==o){const t=r.getPropertyOptions(o),s=t.converter,a=null!==(i=null!==(n=null==s?void 0:s.fromAttribute)&&void 0!==n?n:"function"==typeof s?s:null)&&void 0!==i?i:c.fromAttribute;this._$El=o,this[o]=a(e,t.type),this._$El=null}}requestUpdate(t,e,n){let i=!0;void 0!==t&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||u)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(n)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(n)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}h.finalized=!0,h.elementProperties=new Map,h.elementStyles=[],h.shadowRootOptions={mode:"open"},null==l||l({ReactiveElement:h}),(null!==(i=globalThis.reactiveElementVersions)&&void 0!==i?i:globalThis.reactiveElementVersions=[]).push("1.3.4")})),r.register("30JCM",(function(e,n){t(e.exports,"adoptStyles",(()=>a)),t(e.exports,"getCompatibleStyle",(()=>l));
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const i=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,r=Symbol(),o=new WeakMap;class s{constructor(t,e,n){if(this._$cssResult$=!0,n!==r)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(i&&void 0===t){const n=void 0!==e&&1===e.length;n&&(t=o.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&o.set(e,t))}return t}toString(){return this.cssText}}const a=(t,e)=>{i?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const n=document.createElement("style"),i=window.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=e.cssText,t.appendChild(n)}))},l=i?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return(t=>new s("string"==typeof t?t:t+"",void 0,r))(e)})(t):t})),r.register("gZSbA",(function(e,n){
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var i;t(e.exports,"html",(()=>$)),t(e.exports,"noChange",(()=>_)),t(e.exports,"render",(()=>E)),t(e.exports,"_$LH",(()=>H));const r=globalThis.trustedTypes,o=r?r.createPolicy("lit-html",{createHTML:t=>t}):void 0,s=`lit$${(Math.random()+"").slice(9)}$`,a="?"+s,l=`<${a}>`,c=document,u=(t="")=>c.createComment(t),d=t=>null===t||"object"!=typeof t&&"function"!=typeof t,h=Array.isArray,p=t=>h(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),f=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,m=/>/g,y=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),g=/'/g,b=/"/g,S=/^(?:script|style|textarea|title)$/i,A=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),$=A(1),_=(A(2),Symbol.for("lit-noChange")),w=Symbol.for("lit-nothing"),C=new WeakMap,E=(t,e,n)=>{var i,r;const o=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:e;let s=o._$litPart$;if(void 0===s){const t=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:null;o._$litPart$=s=new I(e.insertBefore(u(),t),t,void 0,null!=n?n:{})}return s._$AI(t),s},P=c.createTreeWalker(c,129,null,!1),M=(t,e)=>{const n=t.length-1,i=[];let r,a=2===e?"<svg>":"",c=f;for(let e=0;e<n;e++){const n=t[e];let o,u,d=-1,h=0;for(;h<n.length&&(c.lastIndex=h,u=c.exec(n),null!==u);)h=c.lastIndex,c===f?"!--"===u[1]?c=v:void 0!==u[1]?c=m:void 0!==u[2]?(S.test(u[2])&&(r=RegExp("</"+u[2],"g")),c=y):void 0!==u[3]&&(c=y):c===y?">"===u[0]?(c=null!=r?r:f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,o=u[1],c=void 0===u[3]?y:'"'===u[3]?b:g):c===b||c===g?c=y:c===v||c===m?c=f:(c=y,r=void 0);const p=c===y&&t[e+1].startsWith("/>")?" ":"";a+=c===f?n+l:d>=0?(i.push(o),n.slice(0,d)+"$lit$"+n.slice(d)+s+p):n+s+(-2===d?(i.push(void 0),e):p)}const u=a+(t[n]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==o?o.createHTML(u):u,i]};class T{constructor({strings:t,_$litType$:e},n){let i;this.parts=[];let o=0,l=0;const c=t.length-1,d=this.parts,[h,p]=M(t,e);if(this.el=T.createElement(h,n),P.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=P.nextNode())&&d.length<c;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(s)){const n=p[l++];if(t.push(e),void 0!==n){const t=i.getAttribute(n.toLowerCase()+"$lit$").split(s),e=/([.?@])?(.*)/.exec(n);d.push({type:1,index:o,name:e[2],strings:t,ctor:"."===e[1]?U:"?"===e[1]?k:"@"===e[1]?D:R})}else d.push({type:6,index:o})}for(const e of t)i.removeAttribute(e)}if(S.test(i.tagName)){const t=i.textContent.split(s),e=t.length-1;if(e>0){i.textContent=r?r.emptyScript:"";for(let n=0;n<e;n++)i.append(t[n],u()),P.nextNode(),d.push({type:2,index:++o});i.append(t[e],u())}}}else if(8===i.nodeType)if(i.data===a)d.push({type:2,index:o});else{let t=-1;for(;-1!==(t=i.data.indexOf(s,t+1));)d.push({type:7,index:o}),t+=s.length-1}o++}}static createElement(t,e){const n=c.createElement("template");return n.innerHTML=t,n}}function x(t,e,n=t,i){var r,o,s,a;if(e===_)return e;let l=void 0!==i?null===(r=n._$Cl)||void 0===r?void 0:r[i]:n._$Cu;const c=d(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(o=null==l?void 0:l._$AO)||void 0===o||o.call(l,!1),void 0===c?l=void 0:(l=new c(t),l._$AT(t,n,i)),void 0!==i?(null!==(s=(a=n)._$Cl)&&void 0!==s?s:a._$Cl=[])[i]=l:n._$Cu=l),void 0!==l&&(e=x(t,l._$AS(t,e.values),l,i)),e}class O{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:n},parts:i}=this._$AD,r=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:c).importNode(n,!0);P.currentNode=r;let o=P.nextNode(),s=0,a=0,l=i[0];for(;void 0!==l;){if(s===l.index){let e;2===l.type?e=new I(o,o.nextSibling,this,t):1===l.type?e=new l.ctor(o,l.name,l.strings,this,t):6===l.type&&(e=new B(o,this,t)),this.v.push(e),l=i[++a]}s!==(null==l?void 0:l.index)&&(o=P.nextNode(),s++)}return r}m(t){let e=0;for(const n of this.v)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class I{constructor(t,e,n,i){var r;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=i,this._$C_=null===(r=null==i?void 0:i.isConnected)||void 0===r||r}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$C_}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=x(this,t,e),d(t)?t===w||null==t||""===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==_&&this.T(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.k(t):p(t)?this.S(t):this.T(t)}j(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.j(t))}T(t){this._$AH!==w&&d(this._$AH)?this._$AA.nextSibling.data=t:this.k(c.createTextNode(t)),this._$AH=t}$(t){var e;const{values:n,_$litType$:i}=t,r="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=T.createElement(i.h,this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===r)this._$AH.m(n);else{const t=new O(r,this),e=t.p(this.options);t.m(n),this.k(e),this._$AH=t}}_$AC(t){let e=C.get(t.strings);return void 0===e&&C.set(t.strings,e=new T(t)),e}S(t){h(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,i=0;for(const r of t)i===e.length?e.push(n=new I(this.j(u()),this.j(u()),this,this.options)):n=e[i],n._$AI(r),i++;i<e.length&&(this._$AR(n&&n._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$C_=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class R{constructor(t,e,n,i,r){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=r,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,n,i){const r=this.strings;let o=!1;if(void 0===r)t=x(this,t,e,0),o=!d(t)||t!==this._$AH&&t!==_,o&&(this._$AH=t);else{const i=t;let s,a;for(t=r[0],s=0;s<r.length-1;s++)a=x(this,i[n+s],e,s),a===_&&(a=this._$AH[s]),o||(o=!d(a)||a!==this._$AH[s]),a===w?t=w:t!==w&&(t+=(null!=a?a:"")+r[s+1]),this._$AH[s]=a}o&&!i&&this.P(t)}P(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class U extends R{constructor(){super(...arguments),this.type=3}P(t){this.element[this.name]=t===w?void 0:t}}const N=r?r.emptyScript:"";class k extends R{constructor(){super(...arguments),this.type=4}P(t){t&&t!==w?this.element.setAttribute(this.name,N):this.element.removeAttribute(this.name)}}class D extends R{constructor(t,e,n,i,r){super(t,e,n,i,r),this.type=5}_$AI(t,e=this){var n;if((t=null!==(n=x(this,t,e,0))&&void 0!==n?n:w)===_)return;const i=this._$AH,r=t===w&&i!==w||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==w&&(i===w||r);r&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}class B{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){x(this,t)}}const H={A:"$lit$",C:s,M:a,L:1,R:M,V:O,D:p,I:x,H:I,N:R,U:k,B:D,F:U,W:B},j=window.litHtmlPolyfillSupport;null==j||j(T,I),(null!==(i=globalThis.litHtmlVersions)&&void 0!==i?i:globalThis.litHtmlVersions=[]).push("2.2.7")})),r.register("2cNIw",(function(e,n){t(e.exports,"ReactiveElement",(()=>r("51T0E").ReactiveElement)),t(e.exports,"html",(()=>r("gZSbA").html)),t(e.exports,"noChange",(()=>r("gZSbA").noChange)),t(e.exports,"render",(()=>r("gZSbA").render));var i,o,s=r("51T0E"),a=r("gZSbA");s=r("51T0E"),a=r("gZSbA");s.ReactiveElement;class l extends s.ReactiveElement{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const n=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=n.firstChild),n}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=(0,a.render)(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return a.noChange}}l.finalized=!0,l._$litElement$=!0,null===(i=globalThis.litElementHydrateSupport)||void 0===i||i.call(globalThis,{LitElement:l});const c=globalThis.litElementPolyfillSupport;null==c||c({LitElement:l});(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push("3.2.2")})),r("fUwgm");var o,s=r("gZSbA"),a=new Uint8Array(16);function l(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(a)}var c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=function(t){return"string"==typeof t&&c.test(t)},d=[],h=0;h<256;++h)d.push((h+256).toString(16).substr(1));var p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(d[t[e+0]]+d[t[e+1]]+d[t[e+2]]+d[t[e+3]]+"-"+d[t[e+4]]+d[t[e+5]]+"-"+d[t[e+6]]+d[t[e+7]]+"-"+d[t[e+8]]+d[t[e+9]]+"-"+d[t[e+10]]+d[t[e+11]]+d[t[e+12]]+d[t[e+13]]+d[t[e+14]]+d[t[e+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n};var f=function(t,e,n){var i=(t=t||{}).random||(t.rng||l)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return p(i)},v=r("kfWYW");var m=r("iZ6yb");function y(t,e){return Object.keys(t).map(((n,i)=>e(n,t[n],i)))}const g={AF:"Afghanistan",AX:"�land Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, the Democratic Republic of the",CK:"Cook Islands",CR:"Costa Rica",CI:"C�te d'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Cura�ao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, the former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"R�union",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barth�lemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela, Bolivarian Republic of",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};function b(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function S(t){return!!t&&!!t[st]}function A(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===at}(t)||Array.isArray(t)||!!t[ot]||!!t.constructor[ot]||M(t)||T(t))}function $(t,e,n){void 0===n&&(n=!1),0===_(t)?(n?Object.keys:lt)(t).forEach((function(i){n&&"symbol"==typeof i||e(i,t[i],t)})):t.forEach((function(n,i){return e(i,n,t)}))}function _(t){var e=t[st];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:M(t)?2:T(t)?3:0}function w(t,e){return 2===_(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){return 2===_(t)?t.get(e):t[e]}function E(t,e,n){var i=_(t);2===i?t.set(e,n):3===i?(t.delete(e),t.add(n)):t[e]=n}function P(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function M(t){return et&&t instanceof Map}function T(t){return nt&&t instanceof Set}function x(t){return t.o||t.t}function O(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ct(t);delete e[st];for(var n=lt(e),i=0;i<n.length;i++){var r=n[i],o=e[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[r]})}return Object.create(Object.getPrototypeOf(t),e)}function I(t,e){return void 0===e&&(e=!1),U(t)||S(t)||!A(t)||(_(t)>1&&(t.set=t.add=t.clear=t.delete=R),Object.freeze(t),e&&$(t,(function(t,e){return I(e,!0)}),!0)),t}function R(){b(2)}function U(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function N(t){var e=ut[t];return e||b(18,t),e}function k(){return X}function D(t,e){e&&(N("Patches"),t.u=[],t.s=[],t.v=e)}function B(t){H(t),t.p.forEach(L),t.p=null}function H(t){t===X&&(X=t.l)}function j(t){return X={p:[],l:X,h:t,m:!0,_:0}}function L(t){var e=t[st];0===e.i||1===e.i?e.j():e.O=!0}function F(t,e){e._=e.p.length;var n=e.p[0],i=void 0!==t&&t!==n;return e.h.g||N("ES5").S(e,t,i),i?(n[st].P&&(B(e),b(4)),A(t)&&(t=G(e,t),e.l||z(e,t)),e.u&&N("Patches").M(n[st].t,t,e.u,e.s)):t=G(e,n,[]),B(e),e.u&&e.v(e.u,e.s),t!==rt?t:void 0}function G(t,e,n){if(U(e))return e;var i=e[st];if(!i)return $(e,(function(r,o){return K(t,i,e,r,o,n)}),!0),e;if(i.A!==t)return e;if(!i.P)return z(t,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=4===i.i||5===i.i?i.o=O(i.k):i.o;$(3===i.i?new Set(r):r,(function(e,o){return K(t,i,r,e,o,n)})),z(t,r,!1),n&&t.u&&N("Patches").R(i,n,t.u,t.s)}return i.o}function K(t,e,n,i,r,o){if(S(r)){var s=G(t,r,o&&e&&3!==e.i&&!w(e.D,i)?o.concat(i):void 0);if(E(n,i,s),!S(s))return;t.m=!1}if(A(r)&&!U(r)){if(!t.h.F&&t._<1)return;G(t,r),e&&e.A.l||z(t,r)}}function z(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&I(e,n)}function V(t,e){var n=t[st];return(n?x(n):t)[e]}function W(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Z(t){t.P||(t.P=!0,t.l&&Z(t.l))}function q(t){t.o||(t.o=O(t.t))}function J(t,e,n){var i=M(e)?N("MapSet").N(e,n):T(e)?N("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),i={i:n?1:0,A:e?e.A:k(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},r=i,o=dt;n&&(r=[i],o=ht);var s=Proxy.revocable(r,o),a=s.revoke,l=s.proxy;return i.k=l,i.j=a,l}(e,n):N("ES5").J(e,n);return(n?n.A:k()).p.push(i),i}function Y(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return O(t)}var Q,X,tt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),et="undefined"!=typeof Map,nt="undefined"!=typeof Set,it="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,rt=tt?Symbol.for("immer-nothing"):((Q={})["immer-nothing"]=!0,Q),ot=tt?Symbol.for("immer-draftable"):"__$immer_draftable",st=tt?Symbol.for("immer-state"):"__$immer_state",at=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),lt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ct=Object.getOwnPropertyDescriptors||function(t){var e={};return lt(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},ut={},dt={get:function(t,e){if(e===st)return t;var n=x(t);if(!w(n,e))return function(t,e,n){var i,r=W(e,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(t.k):void 0}(t,n,e);var i=n[e];return t.I||!A(i)?i:i===V(t.t,e)?(q(t),t.o[e]=J(t.A.h,i,t)):i},has:function(t,e){return e in x(t)},ownKeys:function(t){return Reflect.ownKeys(x(t))},set:function(t,e,n){var i=W(x(t),e);if(null==i?void 0:i.set)return i.set.call(t.k,n),!0;if(!t.P){var r=V(x(t),e),o=null==r?void 0:r[st];if(o&&o.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(P(n,r)&&(void 0!==n||w(t.t,e)))return!0;q(t),Z(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==V(t.t,e)||e in t.t?(t.D[e]=!1,q(t),Z(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=x(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:i.enumerable,value:n[e]}:i},defineProperty:function(){b(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){b(12)}},ht={};$(dt,(function(t,e){ht[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),ht.deleteProperty=function(t,e){return ht.set.call(this,t,e,void 0)},ht.set=function(t,e,n){return dt.set.call(this,t[0],e,n,t[0])};var pt=new(function(){function t(t){var e=this;this.g=it,this.F=!0,this.produce=function(t,n,i){if("function"==typeof t&&"function"!=typeof n){var r=n;n=t;var o=e;return function(t){var e=this;void 0===t&&(t=r);for(var i=arguments.length,s=Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return o.produce(t,(function(t){var i;return(i=n).call.apply(i,[e,t].concat(s))}))}}var s;if("function"!=typeof n&&b(6),void 0!==i&&"function"!=typeof i&&b(7),A(t)){var a=j(e),l=J(e,t,void 0),c=!0;try{s=n(l),c=!1}finally{c?B(a):H(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(t){return D(a,i),F(t,a)}),(function(t){throw B(a),t})):(D(a,i),F(s,a))}if(!t||"object"!=typeof t){if(void 0===(s=n(t))&&(s=t),s===rt&&(s=void 0),e.F&&I(s,!0),i){var u=[],d=[];N("Patches").M(t,s,u,d),i(u,d)}return s}b(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(r))}))};var i,r,o=e.produce(t,n,(function(t,e){i=t,r=e}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return[t,i,r]})):[o,i,r]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){A(t)||b(8),S(t)&&(t=function(t){return S(t)||b(22,t),function t(e){if(!A(e))return e;var n,i=e[st],r=_(e);if(i){if(!i.P&&(i.i<4||!N("ES5").K(i)))return i.t;i.I=!0,n=Y(e,r),i.I=!1}else n=Y(e,r);return $(n,(function(e,r){i&&C(i.t,e)===r||E(n,e,t(r))})),3===r?new Set(n):n}(t)}(t));var e=j(this),n=J(this,t,void 0);return n[st].C=!0,H(e),n},e.finishDraft=function(t,e){var n=(t&&t[st]).A;return D(n,e),F(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!it&&b(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var i=e[n];if(0===i.path.length&&"replace"===i.op){t=i.value;break}}n>-1&&(e=e.slice(n+1));var r=N("Patches").$;return S(t)?r(t,e):this.produce(t,(function(t){return r(t,e)}))},t}()),ft=pt.produce;pt.produceWithPatches.bind(pt),pt.setAutoFreeze.bind(pt),pt.setUseProxies.bind(pt),pt.applyPatches.bind(pt),pt.createDraft.bind(pt),pt.finishDraft.bind(pt);class vt extends class{maxRoundTrips(){return 1}}{provider="stripe";constructor(t){super(),this.stripePromise=(0,m.loadStripe)(t)}async checkout(t){const e=await this.stripePromise;if(!e)throw"Could not load stripe";const{paymentMethodToken:n,clientSecret:i,intentStatus:r}=t.externalData.data,o=t.clientData?.cardElement;if(!o)throw"Expected stripe elements instance on checkout.clientData";if(!n){const n=await e.createToken(o);if(n.error)throw n.error.message;return{...ft(t,(t=>{t.externalData.data.paymentMethodToken=n.token})),success:!1,externalId:!1}}if(i&&t.externalId&&"requires_action"===r){const n=await(t.externalId.startsWith("seti_")?e.confirmCardSetup(i):e.confirmCardPayment(i,void 0)),r="setupIntent"in n?n.setupIntent:void 0,o="paymentIntent"in n?n.paymentIntent:void 0,s=(r??o)?.id??(n.error?.payment_intent||n.error?.setup_intent)?.id;if(!s)throw"Unexpected error";return{...t,success:!1,externalId:s,errorMessage:n.error?.message}}throw"Payment failed, unexpected checkout flow"}async buildUi(t,e,n){const{html:i,render:o}=await r("91rEl");let s=i`
            <stripe-form .stripeClient="${await this.stripePromise}">
                ${e.htmlTemplate??i`
                    <stripe-submit-form>
                        <form @submit="${t=>t.preventDefault()}">
                            <div>
                                <input type="email" placeholder="Email" name="email" required>
                            </div>
                            <div>
                                <stripe-element .type="${"card"}" .opts="${{hidePostalCode:!0}}"></stripe-element>
                            </div>
                            <div>
                                <stripe-submit-error></stripe-submit-error>
                            </div>
                            <div>
                                <input type="text" placeholder="Cardholder Name" name="name" required>
                            </div>
                            <div>
                                <select name="country" required>
                                    <option disabled selected>Country</option>
                                    ${y(g,((t,e)=>i`
                                        <option value="${t}">${e}</option>
                                    `))}
                                </select>
                            </div>
                            <div>
                                <input type="text" placeholder="Postal Code" name="postalCode" required>
                            </div>
                            <button>
                                Pay
                            </button>
                        </form>
                    </stripe-submit-form>
                `}
            </stripe-form>
        `;const a=document.createElement("div");return a.addEventListener("payment-method-token",(e=>{const i=a.querySelector("form"),r=i&&Object.fromEntries(new FormData(i).entries()),o={...t,externalData:{provider:"stripe",data:{...t.externalData.data,billingData:{email:mt(r,"email"),name:mt(r,"name"),phone:mt(r,"phone"),address:{city:mt(r,"city"),country:mt(r,"country"),line1:mt(r,"address1"),line2:mt(r,"address2"),postal_code:mt(r,"postalCode"),state:mt(r,"state")}}}},clientData:{cardElement:e.detail.cardElement}};n(o)})),o(s,a),a}maxRoundTrips(){return 3}}function mt(t,e){if(!t)return;const n=t[e];return!n||n instanceof File?void 0:n}r("fUwgm");s=r("gZSbA");const yt="localhost"===location.hostname?"http://localhost:8505/payments-api":"TODO: Need to define api";async function gt(t,e){const n=document.createElement("div"),i=function(t="pk_test_51IG332FIx1iLyZGc71gYaVCUDKMPAFlRn49tyrzTqf3FYymriwKSJAnKbWyAK9c9WdIi3gn6O9Y8rOKc1tpSJGmQ00RU6pFiTC",e=yt){return new bt([()=>new vt(t)],e)}(t,e);async function r(t){t.preventDefault();const e=t.target,{price:r,currency:o}=Object.fromEntries(new FormData(e)),a=await async function(t,e,n){return await t.calculateCheckout({provider:"stripe",items:[],inlineItems:[{price:e,currency:n,type:"product",title:`${e} ${n} - FINANCIAL SERVICES`,quantity:1}],userId:f()})}(i,+r,o),l=await i.buildUi(a,{htmlTemplate:s.html`
                <h2 style="text-align: center">${o} ${(+r).toFixed(2)}</h2>
                <stripe-submit-form>
                    <form @submit="${t=>t.preventDefault()}">
                        <div>
                            <input class="form-field" type="email" placeholder="Email" name="email" required>
                        </div>
                        <div class="form-field">
                            <stripe-element .type="${"card"}" .opts="${{hidePostalCode:!0}}"></stripe-element>
                        </div>
                        <div>
                            <stripe-submit-error></stripe-submit-error>
                        </div>
                        <div>
                            <input class="form-field" type="text" placeholder="Cardholder Name" name="name" required>
                        </div>
                        <div>
                            <select class="form-field" name="country" required>
                                <option value="" selected>Country</option>
                                ${y(g,((t,e)=>s.html`
                                    <option value="${t}">${e}</option>
                                `))}
                            </select>
                        </div>
                        <div>
                            <input class="form-field" type="text" placeholder="Postal Code" name="postalCode" required>
                        </div>
                        <button class="button">Pay</button>
                    </form>
                </stripe-submit-form>
            `,onSuccess:async t=>{alert("Congratulations, Payment succeeded")},onError:(t,e)=>{alert(t)}});(0,s.render)(l,n)}return i.init(),function(){const t=s.html`
            <form @submit="${r}">
                <div>
                    <input class="form-field" name="price" type="number" placeholder="0.00" required min="10" style="flex-grow: 1">
                    <select class="form-field" name="currency" required style="padding-left: 1ch; padding-right: 1ch;" required>
                        <option selected>USD</option>
                        <option>EUR</option>
                        <option>AUD</option>
                        <option>BRL</option>
                        <option>CAD</option>
                    </select>
                </div>
                <button class="button">Continue</button>
            </form>
        `;(0,s.render)(t,n)}(),n}class bt extends class{inited=!1;providers=[];constructor(t){this.providersInitializers=t}init(){this.inited||(this.providers=this.providersInitializers.map((t=>t())),this.inited=!0)}async buildUi(t,e){this.checkInited();const n=this.getProvider(t),i=document.createElement("div");i.setAttribute("style","position: relative");const r=document.createElement("div");r.setAttribute("style","\n            position: absolute;\n            display: grid;\n            align-items: center;\n            justify-items: center;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            opacity: 0;\n            transition: .3s;\n            pointer-events: none;\n        ");const o=r.cloneNode();o.style.background="#0008";const s=document.createElement("div");s.textContent="Processing...",o.append(s);const a=r.cloneNode();a.style.background="#fff";const l=document.createElement("div");l.textContent="Success!",a.append(l);const c=await n.buildUi(t,e,(async t=>{o.style.opacity="1",o.style.pointerEvents="";const[n,i]=await(0,v.inlineErr)(this.checkout(t));if(n?.success)e.onSuccess(n),a.style.opacity="1",a.style.pointerEvents="";else{o.style.opacity="0",o.style.pointerEvents="none";const t=n?.errorMessage||i?.message||i;e.onError(t||"Unexpected error",n)}}));return i.append(c),i.append(o),i.append(a),i}async calculateCheckout(t){return this.sendCalculateCheckout(t)}async checkout(t){this.checkInited();const e=this.getProvider(t);let n,i=0,r=e.maxRoundTrips()??0;for(;i<r;){const r=await e.checkout(n??t);if(n=await this.sendCheckout(r),n?.success)return n;if(n?.errorMessage)break;i++}throw n?.errorMessage??"Payment failed, try other payment method\nor contact support"}getProvider(t){const e=this.providers.find((e=>e.provider===t.provider));if(!e)throw`There's no provider ${t.provider} available, try one of [${this.providers.map((t=>t.provider))}]`;return e}checkInited(){if(!this.inited)throw"Payment client instance has still not been initiated"}async cancelCheckout(t,e){return this.sendCancelCheckout(t)}}{constructor(t,e){super(t),this.apiBaseUrl=e}async sendCheckout(t){const e={body:JSON.stringify(t),method:"POST"},[n,i]=await fetch(this.apiBaseUrl+"/payments/3ds/checkout",e).then((async t=>[t,await t.json()]));if(n.status>=200&&n.status<300)return i;throw i}async sendCalculateCheckout(t){const e={body:JSON.stringify(t),method:"POST"},[n,i]=await fetch(this.apiBaseUrl+"/payments/3ds/calculate",e).then((async t=>[t,await t.json()]));if(n.status>=200&&n.status<300)return i;throw i}sendCancelCheckout(t){throw"Not implemented"}}var St=r("gZSbA").html;export{gt as init,St as html};
//# sourceMappingURL=3ds.js.map
